{"mappings":"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","sources":["src/js/api/main-home-file.js","src/js/spinner.js","<<jsx-config-pragma.js>>","src/js/pagination.js","src/js/api/onFetchError.js","node_modules/debounce/index.js","src/js/searchFilmByKeyword/render_search_films.js","src/js/searchFilmByKeyword/search_films_by_keyword_input.js","src/js/searchFilmByKeyword/search_films_by_keyword_submit.js","src/js/pagination-query.js","src/js/searchFilmByKeyword/timeoutForBadRequest.js","src/js/api/loadModalCard.js","src/js/vendors/aos.js","src/js/advertising.js"],"sourcesContent":["import MoviesApiService from './moviesApiServiceClass';\nimport Spinner from '../spinner';\nimport makingMarkup from './render-card-markup';\nimport { insertFilmsMarkupToHome } from './insertingIntoDifferentContainers';\nimport { refs } from '../refs';\nimport { createPagination } from '../pagination';\nimport { BASE_POSTER_URL } from './render-card-markup';\nimport { onFetchError } from './onFetchError';\n\nconst moviesApiService = new MoviesApiService();\nconst spinner = new Spinner();\n\n// GETTING GENRES TO LOCALSTORAGE\n// DO NOT MOVE THIS FUNCTION!!!\nmoviesApiService\n  .fetchGenres()\n  .then(({ genres }) => {\n    for (const { id, name } of genres) {\n      localStorage.setItem(`genre_${id}`, name);\n    }\n  })\n  .catch(error => console.log(error));\n\n// RENDERING MARKUP USING GENRES FROM LOCALSTORAGE\nspinner.show();\nmoviesApiService\n  .fetchTrendingMovies()\n  .then(({ results, total_results }) => {\n    const markup = makingMarkup(results);\n\n    spinner.hide();\n    insertFilmsMarkupToHome(markup);\n    createPagination(total_results);\n    localStorage.setItem(`currentFilm`, JSON.stringify(results));\n  })\n  .catch(onFetchError);\n","import { refs } from './refs';\n\nexport default class Spinner {\n    constructor() {\n        this.refs = refs;\n    }\n  \n  //показать спиннер\n    show() {\n      this.refs.spinner.classList.remove('is-hidden');\n  };  \n  \n  //скрыть спиннер\n    hide() {\n      this.refs.spinner.classList.add('is-hidden'); \n  };\n}",null,"import Pagination from 'tui-pagination';\nimport MoviesApiService from './api/moviesApiServiceClass';\nimport Spinner from './spinner';\nimport makingMarkup from './api/render-card-markup';\nimport { insertFilmsMarkupToHome } from './api/insertingIntoDifferentContainers';\nimport { refs } from './refs';\nimport { onFetchError } from './api/onFetchError';\n\nconst moviesApiService = new MoviesApiService();\nconst spinner = new Spinner();\n\nexport function createPagination(total_results) {\n  const container = document.getElementById('pagination');\n  const options = {\n    totalItems: total_results,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const mediaQuery = window.matchMedia('(max-width: 768px)');\n  mediaQuery.addEventListener('change', handleMobileChange);\n  function handleMobileChange(event) {\n    // console.log('EVENT: ', event);\n    if (event.matches) {\n      // console.log('OPTIONS: ', options);\n      options.visiblePages = 3;\n    }\n  }\n  handleMobileChange(mediaQuery);\n\n  const pagination = new Pagination(container, options);\n\n  pagination.on('afterMove', event => {\n    refs.homeCardsContainer.innerHTML = '';\n\n    spinner.show();\n\n    moviesApiService.page = event.page;\n    localStorage.setItem('page', moviesApiService.page);\n    moviesApiService\n      .fetchTrendingMovies()\n      .then(({ results }) => {\n        const markup = makingMarkup(results);\n\n        spinner.hide();\n        insertFilmsMarkupToHome(markup);\n        localStorage.setItem(`currentFilm`, JSON.stringify(results));\n      })\n      .catch(onFetchError);\n  });\n}\n","import Spinner from '../spinner';\nimport { refs } from '../refs';\n\nconst spinner = new Spinner();\n\nexport function onFetchError() {\n  spinner.hide();\n\n  const markup =\n    '<p class=\"film-cards__error\" data-key=\"responseError\">Sorry, no response from server!</p>';\n  refs.messageContainer.innerHTML = markup;\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import { refs } from './../refs';\n\n//* функція рендерить розмітку випадаючого меню\nexport default function renderMarkupSearchFilms(films) {\n  refs.filmsSearchList.innerHTML = '';\n  refs.filmsSearchList.classList.remove('search-form__list--bgc');\n\n  //* якщо запит не коректний\n  if(films.results.length === 0) {\n    const markup = '<p class=\"search-form--badrequest\">Search result not successful. Enter the correct movie name!</p>';\n    refs.filmsSearchList.innerHTML = markup;\n    return;\n  }; \n\n    //*рендер фільмів у випадаючому списку\n    const markup = films.results.slice(0,5).map(( { title, vote_average} ) => {\n      return `<li class=\"search-form__item\">${title} - ${vote_average}</li>`;\n    }).join('');\n    refs.filmsSearchList.classList.add('search-form__list--bgc');\n  \n\n  refs.filmsSearchList.insertAdjacentHTML(\"beforeend\", markup);\n};\n\n","import { debounce } from 'debounce';\nimport { refs } from './../refs';\n// import fetchFilms from './fetch_search_films';\nimport MoviesApiService from '../api/moviesApiServiceClass';\nimport renderMarkupSearchFilms from './render_search_films';\n\nconst moviesApiService = new MoviesApiService();\n\n// refs.formSearch.addEventListener(\n//   'input',\n//   debounce(onSearchByKeyword, refs.DEBOUNCE_DELAY)\n// );\n\n// * функція обробляє результат fetch та викликає на його основі рендеринг випадаючого меню\n// function onSearchByKeyword(e) {\n//   const filmName = e.target.value.trim();\n\n//   if (!filmName) {\n//     refs.filmsSearchList.innerHTML = '';\n//     refs.filmsSearchList.classList.remove('search-form__list--bgc');\n//     return;\n//   }\n\n//   try {\n//     moviesApiService.fetchSearchingMovies().then(films => {\n//       renderMarkupSearchFilms(films);\n//     });\n//   } catch (err) {\n//     err => console.log(err);\n//   }\n// }","import { refs } from './../refs';\n// import fetchFilms from './fetch_search_films';\nimport MoviesApiService from '../api/moviesApiServiceClass';\nimport Spinner from '../spinner';\nimport makingMarkup from '../api/render-card-markup';\nimport { insertFilmsMarkupToHome } from '../api/insertingIntoDifferentContainers';\nimport { createPagination } from '../pagination-query';\nimport timeoutForBadRequest from './timeoutForBadRequest';\nimport { onFetchError } from '../api/onFetchError';\n\n// import { BASE_POSTER_URL } from '../api/render-card-markup';\n\nconst movieApiServise = new MoviesApiService();\nconst spinner = new Spinner();\n\nrefs.formSearch.addEventListener('submit', onSearchFilmByKeyword);\n\n//* функція обробляє результат fetch та викликає на його основі рендеринг головної сторінки\nfunction onSearchFilmByKeyword(e) {\n  e.preventDefault();\n\n  const searchFilms = e.currentTarget.elements.searchInput.value.trim();\n  if (!searchFilms) {\n    return console.log('Field cannot be empty');\n  }\n\n  movieApiServise.query = searchFilms;\n\n  spinner.show();\n  try {\n    movieApiServise\n      .fetchSearchingMovies()\n      .then(({ results, total_results }) => {\n        spinner.hide();\n\n        if (results.length === 0) {\n          timeoutForBadRequest();\n          return;\n        }\n\n        refs.homeCardsContainer.innerHTML = '';\n        const searchingMarkup = makingMarkup(results);\n        insertFilmsMarkupToHome(searchingMarkup);\n        createPagination(total_results, searchFilms);\n        localStorage.setItem(`currentFilm`, JSON.stringify(results));\n      });\n  } catch (err) {\n    onFetchError();\n  }\n\n  refs.inputSearch.value = '';\n  refs.filmsSearchList.innerHTML = '';\n  refs.filmsSearchList.classList.remove('search-form__list--bgc');\n}\n","import Pagination from 'tui-pagination';\nimport MoviesApiService from './api/moviesApiServiceClass';\nimport Spinner from './spinner';\nimport makingMarkup from './api/render-card-markup';\nimport { insertFilmsMarkupToHome } from './api/insertingIntoDifferentContainers';\nimport { refs } from './refs';\nimport { onFetchError } from './api/onFetchError';\n\nconst moviesApiService = new MoviesApiService();\nconst spinner = new Spinner();\n\nexport function createPagination(total_results, searchQuery) {\n  const container = document.getElementById('pagination');\n  const options = {\n    totalItems: total_results,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const mediaQuery = window.matchMedia('(max-width: 768px)');\n  mediaQuery.addEventListener('change', handleMobileChange);\n  function handleMobileChange(event) {\n    // console.log('EVENT: ', event);\n    if (event.matches) {\n      // console.log('OPTIONS: ', options);\n      options.visiblePages = 3;\n    }\n  }\n  handleMobileChange(mediaQuery);\n\n  const pagination = new Pagination(container, options);\n\n  pagination.on('afterMove', event => {\n    refs.homeCardsContainer.innerHTML = '';\n\n    spinner.show();\n\n    moviesApiService.page = event.page;\n    moviesApiService.query = searchQuery;\n    moviesApiService\n      .fetchSearchingMovies()\n      .then(({ results }) => {\n        const markup = makingMarkup(results);\n\n        spinner.hide();\n        insertFilmsMarkupToHome(markup);\n        localStorage.setItem(`currentFilm`, JSON.stringify(results));\n      })\n      .catch(onFetchError);\n  });\n}\n","import { refs } from '../refs';\n\nexport default function timeoutForBadRequest() {\n  const markup = `<p class=\"search-form--badrequest\">${translateBadRequest()}</p>`;\n  refs.filmsSearchList.innerHTML = markup;\n  const timer = setTimeout(() => (refs.filmsSearchList.innerHTML = ''), 2000);\n  return timer;\n}\n\nfunction translateBadRequest() {\n  const lang = localStorage.getItem('lang');\n  if (!lang || lang === 'en-US') {\n    return 'Search result not successful. Enter the correct movie name!';\n  }\n  if (lang === 'uk-UA') {\n    return 'Упс, нічого не знайдено. Введіть коректну назву фільма!';\n  }\n}\n","import { gettingGenresListForModal } from './gettingGenresList';\nimport makingMarkup from '../api/render-card-markup';\nimport { setReleaseVote } from './setReleaseDate';\n// import MoviesApiService from './moviesApiServiceClass';\nimport { refs } from '../refs';\nimport { insertModalMarkupHome } from './insertingIntoDifferentContainers';\nimport {\n  addWatchedLocalStorage,\n  addQueueLocalStorage,\n  deleteQueue,\n  deleteWatched,\n} from '../local_storage';\nimport { translateItems } from '../translation';\nimport { textModalBtn } from '../modal-btns';\nimport { BASE_POSTER_URL } from '../api/constants/baseUrls';\nimport { setReleaseVote } from '../api/setReleaseDate';\n\n// const moviesApiService = new MoviesApiService();\n//* для відкриття трейлеру\n// import { onTrailerClickBtn } from '../movie-trailer';\n\nrefs.homeCardsContainer.addEventListener('click', clickOnMovie);\nrefs.closeModalBtn.addEventListener('click', onCloseModalBtnClick);\nrefs.modalCardBackdrop.addEventListener('click', onModalCardBackdropClick);\n\n// Додано змінну для умови видалення фільму: головна сторінка чи бібліотека\nconst style = refs.homeCardsContainer;\n\nfunction clickOnMovie(e) {\n  if (\n    e.target.nodeName !== 'IMG' &&\n    e.target.nodeName !== 'DIV' &&\n    e.target.nodeName !== 'B' &&\n    e.target.nodeName !== 'H2' &&\n    e.target.nodeName !== 'P'\n  ) {\n    return;\n  }\n\n  document.body.classList.add('show-modal');\n  window.addEventListener('keydown', modalCloseByEsc);\n\n  const currentId = e.target.dataset.id;\n  const unParsedCurrentArrayFilms = localStorage.getItem('currentFilm');\n  const parsedCurrentArrayFilms = JSON.parse(unParsedCurrentArrayFilms);\n\n  // console.log(parsedCurrentArrayFilms.find(obj => obj.id == currentId));\n  let currentMovie = parsedCurrentArrayFilms.find(obj => obj.id == currentId);\n\n  const render = makingModalCardMarkup(currentMovie);\n  translateItems('.movie__container--rigth-side [data-key]');\n  insertModalMarkupHome(render);\n  ///////////////////////////////////////////////////////////////////////////\n  //** Код для запису об'єктів в LOCAL STORAGE */\n  const watchedBtn = document.querySelector('#watched-btn');\n  watchedBtn.addEventListener('click', () => {\n    // -----------Видалення фільму з сторінки Home----------\n    //  Потрібно узгодити із local.storage.js!!!!!!!!!!!\n    // let arrayFilmsWatched = [];\n    // const w = localStorage.getItem('watched');\n    // if (w) {\n    //   arrayFilmsWatched = JSON.parse(w);\n    // }\n\n    // Перевірка на наявність об'єкта в масиві фільмів \"WATCHED\"\n    // const isAddedFilm = arrayFilmsWatched.find(arr => arr.id == currentId);\n    //     if (isAddedFilm) {\n    //   console.log('ЗАПУСК!!!!!!!!!!!');\n    //   textModalBtn(currentId);\n    // }\n    //   ? deleteWatched(currentMovie)\n    //   : addWatchedLocalStorage(currentMovie);\n    // ----------------------------------\n\n    if (watchedBtn.textContent === 'REMOVE FROM WATCHED') {\n      watchedBtn.textContent = 'ADD TO WATCHED';\n    }\n    addWatchedLocalStorage(currentMovie, watchedBtn, style);\n  });\n\n  const queueBtn = document.querySelector('#queue-btn');\n  queueBtn.addEventListener('click', () => {\n    // ---------------Видалення фільму з сторінки Home----------\n    // let arrayFilmsQueue = [];\n    // const q = localStorage.getItem('queue');\n    // if (q) {\n    //   arrayFilmsQueue = JSON.parse(q);\n    // }\n\n    // // Перевірка на наявність об'єкта в масиві фільмів \"QUEUE\"\n    // const isAddedFilm = arrayFilmsQueue.find(arr => arr.id == currentId);\n    // isAddedFilm\n    //   ? deleteQueue(currentMovie)\n    //   : addQueueLocalStorage(currentMovie);\n    // -------------------------------------------------\n    if (queueBtn.textContent === 'REMOVE FROM QUEUE') {\n      queueBtn.textContent = 'ADD TO QUEUE';\n    }\n    addQueueLocalStorage(currentMovie, queueBtn, style);\n    // textModalBtn(currentId);\n  });\n  /////////////////////////////////////////////////////////////////////////////\n\n  //* слухач на відкриття трейлеру\n  // const btnTrailer = document.querySelector('.movie__btn-trailer');\n  // btnTrailer.addEventListener('click', onTrailerClickBtn(currentId));\n\n  textModalBtn(currentId);\n}\n\nfunction onCloseModalBtnClick() {\n  window.removeEventListener('keydown', modalCloseByEsc);\n  document.body.classList.remove('show-modal');\n  refs.modalCardContainer.innerHTML = '';\n}\n\nfunction modalCloseByEsc(e) {\n  if (e.code === 'Escape') {\n    onCloseModalBtnClick();\n  }\n}\n\nfunction onModalCardBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onCloseModalBtnClick();\n  }\n}\n//function creatPoster(poster_path) {\n//return poster_path\n// ? `https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png`\n// : `${BASE_POSTER_URL}/${BASE_POSTER_URL}/${poster_path}`;\n//}\n\nfunction makingModalCardMarkup(obj) {\n  let imagePath = ``;\n  !obj.poster_path\n    ? (imagePath = `https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png`)\n    : (imagePath = `${BASE_POSTER_URL}/${obj.poster_path}`);\n  const markup = `<div class=\"movie__container--left-side\">              \n                  <img class=\"movie__image\" src=\"${imagePath}\"\n                    alt=\"${obj.title || obj.name}\" /></div>\n            <div class=\"movie__container--rigth-side\">\n                <h2 class=\"movie__title\">${obj.title || obj.name}</h2>\n                <table class=\"movie__info\">\n                    <tbody>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\" data-key=\"votes\">Vote / Votes</td>\n                            <td class=\"movie__info-rating\">\n                                <span class=\"movie__info-rating-value movie__info-rating--accent\">${setReleaseVote(\n                                  obj.vote_average\n                                )}</span>\n                                <span class=\"movie__info-rating-slash\">/</span>\n                                <span class=\"movie__info-rating-value\">${setReleaseVote(\n                                  obj.vote_count\n                                )}</span>\n                            </td>\n                        </tr>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\" data-key=\"popularity\">Popularity</td>\n                            <td class=\"movie__info-numbers\">${\n                              obj.popularity\n                            }</td>\n                        </tr>\n                        <tr class=\"movie__info-rows\">\n                            <td class=\"movie__info-name\" data-key=\"originalTitle\">Original Title</td>\n                            <td class=\"movie__info-value\">${\n                              obj.original_title || obj.original_name\n                            }</td>\n                        </tr>\n                        <tr class=\"movie__info-rows movie__info-rows--last\">\n                            <td class=\"movie__info-name\" data-key=\"genre\">Genre</td>\n                            <td class=\"movie__info-value\">${\n                              gettingGenresListForModal(obj.genre_ids) ||\n                              'Genre not defined'\n                            }</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <h2 class=\"movie__about-title\" data-key=\"about\">About</h2>\n                <p class=\"movie__about-text\">\n                    ${obj.overview || 'No text'}\n                </p>\n                <div class=\"movie__btn-container\">\n                   \n                    <button type=\"submit\" id=\"watched-btn\" data-id=\"${\n                      obj.id\n                    }\" class=\"movie__btn btn btn--accent\">ADD TO WATCHED\n                        </button>\n                    <button type=\"submit\" id=\"queue-btn\" data-id=\"${\n                      obj.id\n                    }\" class=\"movie__btn btn btn-queue\">ADD TO QUEUE\n                        </button>\n                </div>\n            </div>\n        </div>`;\n  return markup;\n}\n\nexport { makingModalCardMarkup };\n","// import AOS from 'aos';\n// import 'aos/dist/aos.css'; // You can also use <link> for styles\n// // ..\nAOS.init();\n","import { refs } from './refs';\n\nconst ADVERTISING_BEGIN_DELAY = 5000;\nconst ADVERTISING_END_DELAY = 10000;\n\nshowAdvertising();\n\nfunction showAdvertising() {\n  setTimeout(() => {\n    addAdvertising();\n  }, ADVERTISING_BEGIN_DELAY);\n\n  setTimeout(() => {\n    removeAdvertising();\n    semiVisibleAdvertising();\n  }, ADVERTISING_END_DELAY);\n}\n\nfunction addAdvertising() {\n  refs.advertising.classList.add('is-visible');\n}\n\nfunction removeAdvertising() {\n  refs.advertising.classList.remove('is-visible');\n}\n\nfunction semiVisibleAdvertising() {\n  refs.advertising.classList.add('semi-visible');\n}\n"],"names":["$efgtE","parcelRequire","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","Spinner","this","refs","$4Nugj","key","spinner","classList","remove","add","$1VFfL","$15d132e601c20432$var$spinner","$15d132e601c20432$export$238059e5c5b89ea2","hide","messageContainer","innerHTML","$dfaf77c789ce7a24$var$moviesApiService","default","$dfaf77c789ce7a24$var$spinner","$dfaf77c789ce7a24$export$7f3155e3cda021fd","total_results","container","document","getElementById","options","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","mediaQuery","window","matchMedia","handleMobileChange","event","matches","addEventListener","$parcel$interopDefault","on","homeCardsContainer","show","localStorage","setItem","fetchTrendingMovies","then","param","results","markup","$37jAB","$j7yxE","insertFilmsMarkupToHome","JSON","stringify","catch","$40a95fc40f1def67$var$moviesApiService","$40a95fc40f1def67$var$spinner","fetchGenres","genres","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_value","value","id","name","concat","err","return","error","console","log","$004cd6322d5b1502$var$debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","arguments","callNow","clear","clearTimeout","flush","debounce","$ab8f67aafc2f7ac4$var$moviesApiService","$ab8f67aafc2f7ac4$var$spinner","$ab8f67aafc2f7ac4$export$7f3155e3cda021fd","searchQuery","query","fetchSearchingMovies","$831ed60b6b6fb8d9$export$2e2bcd8739ae039","lang","getItem","$831ed60b6b6fb8d9$var$translateBadRequest","filmsSearchList","$d09e1a578dacae14$var$movieApiServise","$d09e1a578dacae14$var$spinner","formSearch","e","preventDefault","searchFilms","currentTarget","elements","searchInput","trim","length","searchingMarkup","inputSearch","$iSn7Y","target","nodeName","body","$59d24059f9f5cdf0$var$modalCloseByEsc","currentId","dataset","unParsedCurrentArrayFilms","currentMovie","parse","find","obj","render","imagePath","poster_path","$4QKg3","BASE_POSTER_URL","title","$h7AsZ","setReleaseVote","vote_average","vote_count","popularity","original_title","original_name","gettingGenresListForModal","genre_ids","overview","$3MGSC","translateItems","insertModalMarkupHome","watchedBtn","querySelector","textContent","$cbazt","addWatchedLocalStorage","$59d24059f9f5cdf0$var$style","queueBtn","addQueueLocalStorage","$4uNB6","textModalBtn","closeModalBtn","$59d24059f9f5cdf0$var$onCloseModalBtnClick","modalCardBackdrop","removeEventListener","modalCardContainer","code","AOS","init","advertising"],"version":3,"file":"index.bfcada50.js.map"}