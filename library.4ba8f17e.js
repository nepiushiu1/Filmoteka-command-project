var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire241c;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire241c=a),a("7x0LX"),a("4NjsD");var o=a("1drNe"),i=a("ZS19j");a("jU4ZD");var s=a("krGWQ"),r=a("7x8k5"),d=a("fnyLm"),l=a("kYzA7"),c=a("1hBMB"),m=a("gXqAZ");s.refs.libraryCardsContainer.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"B"!==e.target.nodeName&&"H2"!==e.target.nodeName&&"P"!==e.target.nodeName)return;document.body.classList.add("show-modal"),window.addEventListener("keydown",v);const t=e.target.dataset.id,n=localStorage.getItem("currentFilm"),a=localStorage.getItem("currentFilm"),s=JSON.parse(n),u=JSON.parse(a);let f=s.find((e=>e.id==t)),g=u.find((e=>e.id==t));const p=function(e){let t="";t=e.poster_path?`${c.BASE_POSTER_URL}/${e.poster_path}`:"https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png";return`<div class="movie__container--left-side">              \n                  <img class="movie__image" src="${t}"\n                    alt="${e.title||e.name}" /></div>\n            <div class="movie__container--rigth-side">\n                <h2 class="movie__title">${e.title||e.name}</h2>\n                <table class="movie__info">\n                    <tbody>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name" data-key="votes">Vote / Votes</td>\n                            <td class="movie__info-rating">\n                                <span class="movie__info-rating-value movie__info-rating--accent">${(0,m.setReleaseVote)(e.vote_average)}</span>\n                                <span class="movie__info-rating-slash">/</span>\n                                <span class="movie__info-rating-value">${(0,m.setReleaseVote)(e.vote_count)}</span>\n                            </td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name" data-key="popularity">Popularity</td>\n                            <td class="movie__info-numbers">${e.popularity}</td>\n                        </tr>\n                        <tr class="movie__info-rows">\n                            <td class="movie__info-name" data-key="originalTitle">Original Title</td>\n                            <td class="movie__info-value">${e.original_title||e.original_name}</td>\n                        </tr>\n                        <tr class="movie__info-rows movie__info-rows--last">\n                            <td class="movie__info-name" data-key="genre">Genre</td>\n                            <td class="movie__info-value">${(0,o.gettingGenresListForModal)(e.genre_ids)||"Genre not defined"}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <h2 class="movie__about-title" data-key="about">About</h2>\n                <p class="movie__about-text">\n                    ${e.overview||"No text"}\n                </p>\n                <div class="movie__btn-container">\n                   \n                    <button type="submit" id="watched-btn" data-id="${e.id}" class="movie__btn btn btn--accent">ADD TO WATCHED\n                        </button>\n                    <button type="submit" id="queue-btn" data-id="${e.id}" class="movie__btn btn btn-queue">ADD TO QUEUE\n                        </button>\n                </div>\n            </div>\n        </div>`}(f||g);(0,i.translateItems)(".movie__container--rigth-side [data-key]"),(0,r.insertModalMarkupHome)(p);const b=document.querySelector("#watched-btn");b.addEventListener("click",(()=>{let e=[];const n=localStorage.getItem("watched");n&&(e=JSON.parse(n));e.find((e=>e.id==t))?(0,d.deleteWatched)(f):(0,d.addWatchedLocalStorage)(g,b,_),(0,l.textModalBtn)(t)}));const y=document.querySelector("#queue-btn");y.addEventListener("click",(()=>{let e=[];const n=localStorage.getItem("queue");n&&(e=JSON.parse(n));e.find((e=>e.id==t))?(0,d.deleteQueue)(g):(0,d.addQueueLocalStorage)(f,y,_),(0,l.textModalBtn)(t)})),(0,l.textModalBtn)(t)})),s.refs.closeModalBtn.addEventListener("click",u),s.refs.modalCardBackdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&u()}));const _=s.refs.homeCardsContainer;function u(){window.removeEventListener("keydown",v),document.body.classList.remove("show-modal"),s.refs.modalCardContainer.innerHTML=""}function v(e){"Escape"===e.code&&u()}a("cddKH"),a("9tydV"),a("ZS19j"),a("iLDfN");
//# sourceMappingURL=library.4ba8f17e.js.map
